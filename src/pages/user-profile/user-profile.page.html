<ion-header>
    <custom-header [title]="'User Profile Page'"></custom-header>
  </ion-header>


<ion-content padding *ngIf="currentUser">
  <h3>Profile</h3>

  <ion-item>
    <ion-icon name="person" item-left></ion-icon>
    <ion-input type="text" value="{{currentUser.name}}" [(ngModel)]="currentUser.name" [disabled]="inputNameDisabled"></ion-input>
    <button ion-button icon-only item-end clear (click)="inputNameDisabled = !inputNameDisabled; changeIcon();" color="dark">
      <ion-icon [name]="editIconName" item-end></ion-icon>
    </button>
  </ion-item>
  
  <ion-item>
    <ion-icon name="at" item-left></ion-icon>
    <ion-input type="text" value="{{currentUser.username}}" [(ngModel)]="currentUser.username" [disabled]="inputUsernameDisabled"></ion-input>
    <button ion-button icon-only item-end clear (click)="inputUsernameDisabled = !inputUsernameDisabled; changeIcon();" color="dark">
      <ion-icon [name]="editIconUsername" item-end></ion-icon>
    </button>
  </ion-item>

  <ion-item>
    <ion-icon name="image" item-left></ion-icon>
    <button ion-button outline icon-start (click)="onActionSheet()">
      <ion-icon name="cloud-upload"></ion-icon>
      Profile Image
    </button>
    <ion-icon *ngIf="photoUri" name="checkmark" item-right></ion-icon>
  </ion-item>

  <progress-bar *ngIf="uploadProgress" [progress]="uploadProgress"></progress-bar>

  <br>
  <button ion-button outline block (click)="onSubmit($event)">Save</button>
  <button ion-button outline block>Cancel</button>

</ion-content>
